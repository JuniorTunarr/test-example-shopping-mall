# 단위 테스트

## 단위 테스트란?

단위 테스트는 소프트웨어의 개별적인 구성 요소나 기능을 독립적으로 테스트하는 방법입니다. 주요 목적과 특징은 다음과 같습니다:

- 코드의 작은 부분(함수, 메서드, 클래스 등)을 격리하여 테스트
- 버그를 조기에 발견하고 수정
- 코드의 신뢰성과 품질 향상
- 리팩토링 시 안전성 제공
- 문서화 역할 수행

단위 테스트에 적합한 요소:

- 순수 함수 (예: 문자열 포맷팅, 날짜 변환, 수학 연산)
- 유틸리티 함수 (예: 디바운싱, 쓰로틀링, 깊은 복사, 객체 병합, 배열 조작)
- 비즈니스 로직 (예: 할인 계산, 재고 관리, 주문 처리, 사용자 인증)
- 리액트 컴포넌트 (예: props 전달, 이벤트 핸들러, 조건부 렌더링, 상태 관리)
- 리액트 훅 (예: useState, useEffect, useContext, 커스텀 훅)

## 테스트 도구 및 라이브러리

### Vitest

- 빠른 실행 속도
- Jest와 유사한 API 제공
- Vite 기반 프로젝트와 호환성 우수

### React Testing Library

- 사용자 중심의 테스트 작성 지원
- DOM 요소에 쉽게 접근 가능
- 리액트 컴포넌트 테스트에 최적화

## 주요 테스트 개념 및 기능

### it 함수

개별 테스트 케이스를 정의하는 함수입니다. 아래는 구체적인 예시입니다:

### describe 함수

### spy 함수

함수의 호출 여부, 횟수, 인자 등을 추적하는 기능을 제공한다.

### 매처 (Matcher)

테스트 결과를 검증하는 함수들로, `expect()` 함수와 함께 사용된다.

### setup과 teardown

- setup: 테스트 실행 전 환경을 준비하는 단계(beforeEach, beforeAll)
- teardown: 테스트 실행 후 환경을 정리하는 단계(afterEach, afterAll)

### 모킹 (Mocking)

외부 의존성을 대체하여 테스트를 격리시키는 기법입니다.

### 모킹 초기화

테스트 간 독립성을 유지하기 위해 모킹된 상태를 초기화합니다.

### 리액트 훅 테스트

`renderHook` 함수를 사용하여 리액트 훅을 독립적으로 테스트할 수 있습니다.

### act() 함수

리액트 컴포넌트의 상태 변화를 테스트할 때 사용되며, 상태 업데이트를 동기화합니다.

### 타이머 테스트

`vi.useFakeTimers()`를 사용하여 시간 관련 함수를 모킹하고 제어할 수 있습니다.

### 타이머 복원

`vi.useRealTimers()`를 사용하여 모킹된 타이머를 실제 타이머로 복원합니다.
